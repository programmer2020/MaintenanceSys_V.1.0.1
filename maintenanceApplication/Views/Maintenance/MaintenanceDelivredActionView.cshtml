@model maintenanceApplication.ViewModels.MaintenanceCreteViewModel

@{
    ViewBag.Title = "Maintenance Delivred ";
}
<div class="col-md-12">
    <div class="col-md-2"></div>
    <div class="col-md-6" style="margin-top:-10px;">
        @using (Html.BeginForm("CreateNewMaintenanceRequest", "Maintenance"))
        {
            @Html.AntiForgeryToken()
        <div class="form-horizontal">
            <h4 class="text text-blue">New Maintenance Request</h4>
            @Html.ValidationSummary("", new { @class = "text-danger" })

            <div class="col-md-12" style="margin: 10px 0 20px 0">
                <div class="col-md-12">
                    <p class="text-center text-primary font-weight-bold font-20" style="margin-bottom:20px;">Customer Details</p>
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Customer Name</th>
                                <th scope="col">Customer Phone 1</th>
                                <th scope="col">Customer Phone 2</th>
                                <th scope="col">Customer City</th>
                                <th scope="col">Customer Adress</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@Html.DisplayFor(model => model.maintenance.Customer_Name)</td>
                                <td>@Html.DisplayFor(model => model.maintenance.Customer_Phone_1)</td>
                                <td>@Html.DisplayFor(model => model.maintenance.Customer_Phone_2)</td>
                                <td>@Html.DisplayFor(model => model.maintenance.CustomerCity.CustomerCity)</td>
                                <td>@Html.DisplayFor(model => model.maintenance.Customer_Adress)</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>


            <div class="form-group">
                @Html.LabelFor(model => model.maintenance.Device_SerialNumber, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.maintenance.Device_SerialNumber, new { htmlAttributes = new { @class = "form-control" } })
                    @*@Html.ValidationMessageFor(model => model.maintenance.Device_SerialNumber, "", new { @class = "text-danger", @style = "" })*@
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.maintenance.Device_Model, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.maintenance.Device_Model, new { htmlAttributes = new { @class = "form-control" } })
                    @*@Html.ValidationMessageFor(model => model.maintenance.Device_Model, "", new { @class = "text-danger" })*@
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.maintenance.Accrssories, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.maintenance.Accrssories, new { htmlAttributes = new { @class = "form-control" } })
                    @*@Html.ValidationMessageFor(model => model.maintenance.Accrssories, "", new { @class = "text-danger" })*@
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.maintenance.ClientRemarks, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.TextAreaFor(model => model.maintenance.ClientRemarks, new { @class = "form-control", @style = "height:100px;" })
                    @*@Html.ValidationMessageFor(model => model.maintenance.ClientRemarks, "", new { @class = "text-danger" })*@
                </div>
            </div>

            @*Not Working*@
            <div class="form-group">
                @Html.LabelFor(model => model.maintenance.priority.PriorityName, "Priority Name", htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.DropDownListFor(m => m.maintenance.MaintenancePriorityModelId, new SelectList(Model.maintenancepriority, "Id", "PriorityName"), "Select Priority", htmlAttributes: new { @class = "form-control" })
                    @*@Html.ValidationMessageFor(model => model.maintenance.MaintenancePriorityModelId, "", new { @class = "text-danger" })*@
                </div>
            </div>


            <div class="col-md-12" style="margin-bottom:100px;margin-top:30px;">
                <div class="col-md-12" style="margin-left:30%;">
                    <div class="form-group col-md-2" style="margin-right:8%;">
                        <input type="submit" name="delivred" class="btn btn-primary" value="Deliver" id="delivred"
                               formaction="/Maintenance/DeliverMaintenanceRequest/@ViewData["mainId"]" formmethod="post" />
                    </div>


                </div>

                <div class="form-group ">
                    <a href="/Maintenance/GetNewMaintenanceRequests" class="btn btn-warning form-group" style="margin-right:1%;">Cancel</a>
                </div>

            </div>

        </div>

        }
    </div>

    @*@using (Html.BeginForm("Add_Maintenance_Comment", "Maintenance"))
        {
            <div class="col-md-4" style="margin-top:30px;">
                <div class="card" style="overflow:scroll; overflow-x:hidden;  max-height:515px;">
                    <div class="tab-content">
                        <div class="tab-pane active" id="home" role="tabpanel" style="margin-bottom:-50px">
                            <div class="card-block">
                                <p class="text-left text text-blue">Maintennace Activity</p>

                                <div class="profiletimeline">
                                    <div class="sl-item">
                                        <div class="sl-left"> <img src="../../assets/images/users/3.jpg" alt="user" class="img-circle"> </div>
                                        <div class="sl-right">
                                            <div>
                                                <a href="#" class="link">John Doe</a> <span class="sl-date">5 minutes ago</span>
                                                <p class="m-t-10"> The Request Need Acessories  </p>
                                            </div>
                                        </div>
                                    </div>

                                </div>


                            </div>
                        </div>
                        <hr>
                        <div class="form-group">
                            <div class="col-md-8">
                                @Html.EditorFor(model => model.maintenanceComments.comment, new { htmlAttributes = new { @class = "form-control" } })
                            </div>
                            <div class="form-group col-md-2" style="margin-top:2px;">
                                <input type="submit" class="btn btn-success" formaction="/Maintenance/Add_Maintenance_Comment/@ViewData["mainId"]" value="Add Comment"
                                       formmethod="post" />
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        }
        </div>*@
</div>

@*@{
        Html.RenderAction("Add_Maintenance_Comment");
    }*@

@section Scripts
{
    @Scripts.Render("~/bundles/jqueryval");
}
